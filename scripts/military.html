<!DOCTYPE html>
<html>
<script src='https://d3js.org/d3.v5.min.js'></script>
<body>
<h1>China's growth in numbers</h1>
<h3>Military</h3>
<p> Although data prior to 1989 are not publicly known, it is clear that China is becoming a military superpower, when measured by military spending. The spending has increased over 10-fold between 1990 and 2020 (in inflation-adjusted dolars). 
    
</p>



<div class="topnav">
    <a class="active" href="../index.html">Home</a>
    <a href="population.html">Population</a>
    <a href="economy.html">Economy</a>
    <a href="military.html">Military</a>
</div>

<svg width="800" height="400"></svg>

<script>

var dataset1 = [

            [1990, 21.3], [1995, 25.3], [2000, 41.2],
            [2005, 73.4], [2010, 129.4], [2015, 192.8],
            [2020, 244.9]
        ];

var dataset2 = [
[1950,158.6], [1955,402],
            [1960, 409], [1965, 442.4], [1970,549.2],
            [1975, 437.3], [1980, 445.8], [1985, 646.7],
            [1990, 636.2], [1995, 496.4], [2000, 475.2],
            [2005, 698], [2010, 865.3], [2015, 683.7],
            [2020, 766.6]
        ];
       


// Step 3 - set margin

var svg = d3.select("svg"),
            margin = 200,
            width = svg.attr("width") - margin,
            height = svg.attr("height") - margin

var xScale = d3.scaleLinear().domain([1950, 2020]).range([0, width]);
var yScale = d3.scaleLinear().domain([0, 800]).range([height, 0]);


// Step 5
        // Title
d3.select("svg").append('text')
.attr('x', width/2 + 100)
.attr('y', 100)
.attr('text-anchor', 'middle')
.style('font-family', 'Helvetica')
.style('font-size', 20)
.text('Military spending - constant 2020 USD (bn.)');
        
// X label
d3.select("svg").append('text')
.attr('x', width/2 + 100)
.attr('y', height - 15 + 150)
.attr('text-anchor', 'middle')
.style('font-family', 'Helvetica')
.style('font-size', 12)
.text('Years');

// Y label
d3.select("svg").append('text')
.attr('text-anchor', 'middle')
.attr('transform', 'translate(60,' + height + ')rotate(-90)')
.style('font-family', 'Helvetica')
.style('font-size', 12)
.text('Military spending (USD bn.)');

// Step 6 - axis
//d3.select("svg").append("g").attr("transform", "translate("+margin+","+margin+")")
d3.select("svg").append("g")
         .attr("transform", "translate("+100 + "," + 300 + ")")
         .call(d3.axisBottom(xScale));
        
d3.select("svg").append("g")
        .attr("transform", "translate("+100 + "," + 100 + ")")
         .call(d3.axisLeft(yScale));

// Strp 7 - scatter dots
d3.select("svg").append('g')
        .selectAll("dot")
        .data(dataset1)
        .enter()
        .append("circle")
        .attr("cx", function (d) { return xScale(d[0]); } )
        .attr("cy", function (d) { return yScale(d[1]); } )
        .attr("r", 2)
        .attr("transform", "translate(" + 100 + "," + 100 + ")")
        .style("fill", "#CC0000");


// Step 8 - Plot line

var line = d3.line()
        .x(function(d) { return xScale(d[0]); }) 
        .y(function(d) { return yScale(d[1]); }) 
        .curve(d3.curveMonotoneX)
        
        svg.append("path")
        .datum(dataset1) 
        .attr("class", "line") 
        .attr("transform", "translate(" + 100 + "," + 100 + ")")
        .attr("d", line)
        .style("fill", "none")
        .style("stroke", "#CC0000")
        .style("stroke-width", "2");

        svg.append("path")
        .datum(dataset2) 
        .attr("class", "line") 
        .attr("transform", "translate(" + 100 + "," + 100 + ")")
        .attr("d", line)
        .style("fill", "none")
        .style("stroke", "#0000FF")
        .style("stroke-width", "2");

// Legend

var legend_keys = ["China", "USA"]
var colors = ["#CC0000", "#0000FF"]

var lineLegend = svg.selectAll(".lineLegend").data(legend_keys)
    .enter().append("g")
    .attr("class","lineLegend")
    .attr("transform", function (d,i) {
            return "translate(" + (width +120) + "," + (i*20 + 200)+")";
        });

lineLegend.append("text").text(function (d) {return d;})
    .attr("transform", "translate(15,9)"); //align texts with boxes

lineLegend.append("rect")
    .attr("fill", function (d, i) {return colors[i]; })
    .attr("width", 10).attr("height", 10);


</script>


</body>


</html>